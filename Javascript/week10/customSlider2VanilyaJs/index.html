<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://kit.fontawesome.com/05902d1e0f.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css">
    <style>
   
    </style>
  </head>
  <body>
    <div id="app"></div>
 
    <br><br><br>
    <hr>
    <button onclick="myFunc()">Click</button>
  <script>

    function runSlider(){
      let span=document.getElementsByClassName("span");
    console.log("span: ", span[0]);
	let cartContainer = document.getElementsByClassName('cart-container');
  console.log("Number of box: ", cartContainer.length);
  let numberByBox=cartContainer.length;
let cartContainer_page=Math.ceil(cartContainer.length/3);

let l=0;
let movePer = 33.4;//Bu yuzde degisimi gosteriyor
	let maxMove = (numberByBox-2)*33;//Eger ekranda 3 tane kutu gosterceksek bu eger 4 kutu dusunursek o zamn da 3 cikariiriz...Cunku en son kutuyu gosterdkten sonra basa donmesini istiyoruz yoksa en son kutudan sonra kutu olmasada bosluga dogru donecek bunun olmamasi icin...
	// mobile_view	
	let mob_view = window.matchMedia("(max-width: 768px)");

  if (mob_view.matches)
	 {
		console.log("Ekran boyutu degisti")
	 	movePer = 50.36;//Eger ekran degisimi css deki ile cakisrsa uyusursa o zaman 50% oraninda harket etsin demektir
	 	maxMove = 504;
	 }
   
   let count=0;
   let right_mover = ()=>{
    console.log("count:; ",count);
    console.log("l: ",l);
     if(count=cartContainer.length){count=0;  }
		l = l + movePer;
		if (cartContainer_page == 1){l = 0; }
    for(let i=0; i<cartContainer.length; i++)
		{
      let item=cartContainer[i];
     
			if (l > maxMove){
        //En sonuncu elemana tiklanmis oluyor...
        console.log("l eger maxMove dan buyukse l: ",l);
        console.log("l eger maxMove den buykse maxMove: ",maxMove)
        l = l - movePer;//Burayi yapmazsak bos sayfaya dogru donmeye devam eder
        console.log("l eger maxMove dan buyukse l den movePer cikaririz: ",l);
        l=0;
      
      
      }
			item.style.left = '-' + l + '%';
      count++;
		}

   
   

	}

  let left_mover = ()=>{
		l = l - movePer;
    console.log("movePer: ",movePer);
		console.log("l left mover: ", l);
		if (l<=0){l = 0;}
		for(const i of cartContainer){
			if (cartContainer_page>1){
				i.style.left = '-' + l + '%';
        console.log("i style left: ", i.style.left);
			}
		}
	}

//Her setInterval calistiginda 33% kadar saga dogru kayiyor ta ki toplam 200% de duruyor bunun nerde duracagini da dinmaik olmasi icin kac tane urun varsa ona endeksli olarak donmeli hep ve en son kutuya geldgii zaman da artik tekrar 1.kutudan baslamali
let counter=1;

// 	setInterval(()=>{
// console.log("hello")
// right_mover();


// 	},2000)
	span[1].onclick = ()=>{right_mover();}
	span[0].onclick = ()=>{left_mover();}
      
    }
    
let value="";
function myFunc(){
  value="changed";
  updateView();
}


updateView();
    function updateView(){
      let slider=`
      <header class="header">
			<h1>Top Hottest Products</h1>
			<p>
				<span class="span">&#139;</span>
				<span  class="span">&#155;</span>
			</p>
		</header>
    <section class="main-container"> `;

      for(let i=0; i<10; i++){
        slider+=`
        <div class="cart-container">
      <div class="cart-image">
        <div class="category-icon icon-container">
          <i class="fa-solid fa-music"></i>
        </div>
        <div class="announcement-icon icon-container">
          <i class="fa-solid fa-bullhorn"></i>
        </div>
      </div>
      <div class="cart-calender">
        <div class="cart-calender-date">
          <span class="cart-calender-day">01</span>
          <span class="cart-calender-month"> MAY</span>
        </div>

        <div class="cart-calender-content">
          <!-- <span class="cart-calender-title">Konsert</span> -->
          <h2>Konsert 2022-1</h2>
          <div class="cart-calender-text">
            <i class="fa-solid fa-calendar-days"></i>
            <span class="cart-calender-wholeDate"
              >January 1, 2022 - December 31, 2022</span
            >
          </div>
          <div class="cart-calender-text">
            <i class="fa-solid fa-clock"></i>
            <span class="cart-calender-time">10:00 AM - 8:00 PM</span>
          </div>
          <div class="cart-calender-text">
            <i class="fa-solid fa-location-dot"></i>
            <span class="cart-calender-place"
              >London Bridge Station, London, UK</span
            >
          </div>
        </div>
      </div>

      <div class="read-more">
        <a href="">
          <span>Les mer</span> <i class="fa-solid fa-right-long"></i>
        </a>
      </div>
    </div>
        
        `;
      }
    
    slider+=`
  </section>
      
      `;
      document.getElementById("app").innerHTML=slider;
      runSlider();
    }
  </script>
  </body>
</html>






























<!--

  	let right_mover = ()=>{
		l = l + movePer;
		console.log("l righ mover: ", l);
		if (product_page == 1){l = 0; }
		for(const i of product)
		{
			if (l > maxMove){l = l - movePer;}
			i.style.left = '-' + l + '%';
		}

		
	}
	let left_mover = ()=>{
		l = l - movePer;
		console.log("l left mover: ", l);
		if (l<=0){l = 0;}
		for(const i of product){
			if (product_page>1){
				i.style.left = '-' + l + '%';
			}
		}
	}
-->