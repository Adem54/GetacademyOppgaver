<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
  background-color: red;
  color: white;
}
@media (min-width: 768px) {
  body {
    background-color: white;
    color: red;
  }
}
    </style>
</head>
<body>
 

        
    <script>
        /*
        matchMedia() KullanÄ±mÄ±
        YukarÄ±daki css Ã¶rneÄŸimizde yer alan â€œmin-width: 768pxâ€ kuralÄ±nÄ± matchMedia fonksiyonuna parametre olarak geÃ§erek javascript tarafÄ±nda media query sorgusunu tanÄ±mlamÄ±ÅŸ olursunuz. Altta Ã¶rneÄŸini gÃ¶rebilirsiniz.
        */
        // media query sorgusunu js'de tanÄ±mlama.
const mediaQuery = window.matchMedia('(min-width: 768px)')

// Peki sorgumuzu tanÄ±mladÄ±k ama sorgunun nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ve ekran Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ deÄŸiÅŸimlerinden nasÄ±l haberdar olacaÄŸÄ±z.ğŸ¤” ÅÃ¶yle ki eÄŸer sorgunuzun sonucunu hemen almak istiyorsanÄ±z alttaki gibi matches Ã¶zelliÄŸinden media query sorgumuzun kurala uyup uymadÄ±ÄŸÄ±nÄ± tek seferlik kontrol edebiliyoruz. Altta tek seferlik kontrol iÃ§in kod Ã¶rneÄŸine gÃ¶z atabilirsin.

// En az 768px Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼nde olan ekran kontrolÃ¼nÃ¼ yapmak iÃ§in sorgumuzu matchMedia fonksiyonuna parametre olarak geÃ§iyoruz.
const mediaQuery2 = window.matchMedia('(min-width: 768px)')
// Sorgu sonunucu kontrol etmek ve eÅŸleÅŸmenin saÄŸlanÄ±p saÄŸlanmadÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in matches Ã¶zelliÄŸini kullanÄ±yoruz.
if (mediaQuery2.matches) {
    //min-width:768 in aynisi css icinde yazilmis ise o zaman true yoksa false gelir
  // EÄŸer sorgu sonucu olumlu ise iÅŸlemlerinizi burada yapabilirsiniz.
  alert('Media Query EÅŸleÅŸti!')
 // document.body.style.backgroundColor="green";
}
  /*
  Tek seferlik kontrol ihtiyacÄ±nÄ± karÅŸÄ±lamÄ±yorsa yada Ã§Ã¶zÃ¼nÃ¼rlÃ¼k deÄŸiÅŸimlerini sÃ¼rekli takip etmek ve Ã§Ã¶zÃ¼nÃ¼rlÃ¼k deÄŸiÅŸimi sonrasÄ± sadece kurala uyulduÄŸunda ilgili fonksiyonunuzun tetiklenmesini istiyorsanÄ±z addEventListener fonksiyonundan faydalanÄ±p Ã§Ã¶zÃ¼nÃ¼rlÃ¼k deÄŸiÅŸimi eÄŸer kuralÄ±nÄ±z ile eÅŸleÅŸirse belirlediÄŸiniz fonksiyonun Ã§alÄ±ÅŸmasÄ± saÄŸlanÄ±r. Alttaki kod Ã¶rneÄŸinde tam olarak bu event listener konusuna cevap bulacaksÄ±nÄ±z.


  */


  // EÄŸer viewport 768px ve Ã¼stÃ¼ olduÄŸunda handleTableChange adlÄ± fonksiyonun Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlÄ±yoruz.
const mediaQuery3 = window.matchMedia('(min-width: 768px)')
 
 function tabletDegisiminiAlgila(e) {
   // Kural kontrolÃ¼nÃ¼ yapÄ±yoruz
   if (e.matches) {
     // EÄŸer kuralÄ±mÄ±z olumlu ile yapacaÄŸÄ±mÄ±z iÅŸlemleri burada yapÄ±yoruz.
     console.log('Media Query KuralÄ±mÄ±z EÅŸleÅŸti!')
   }
 }
  
 // Ekran Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ deÄŸiÅŸimlerini dinlemek iÃ§in addListener fonksiyonu ile register iÅŸlemini yapÄ±yoruz.
 mediaQuery3.addListener(tabletDegisiminiAlgila)
  
 // Ä°lk kontrolÃ¼ manual yapÄ±yoruz
//  tabletDegisiminiAlgila(mediaQuery)
//  Peki ÅŸimdi aklÄ±mÄ±zda bir soru vardÄ±r herhalde. O soru da matchMedia olmadan javascript tarafÄ±nda ihtiyacÄ± nasÄ±l karÅŸÄ±lÄ±yorduk yani ekran Ã§Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ deÄŸiÅŸimlerini nasÄ±l algÄ±lÄ±yorduk. AslÄ±nda her web geliÅŸtiricinin farklÄ± sebeplerden ihtiyaÃ§ duyduÄŸu yÃ¶ntemlerden biri olan window.resize olayÄ±nÄ±n dinlenmesi ve en ufak pixel deÄŸiÅŸiminde bile tetiklenmesi sonucu iÅŸlemlerimizi bu resize olayÄ± iÃ§erisinde yapÄ±yorduk. Bu iÅŸlemde eÄŸer belli kontroller saÄŸlamadÄ±ÄŸÄ±nÄ±zda ciddi performans sorununa ve hatta yaptÄ±ÄŸÄ±nÄ±z iÅŸlemin boyutuna gÃ¶re tarayÄ±cÄ±nÄ±n kilitlenmesine ve cevap vermemesine kadar sorunlara yol aÃ§abiliyoruz. Sorunun ortaya Ã§Ä±kÄ±ÅŸ sebebini Ã¶zetlersek pencere boyutunda her bir pixel deÄŸiÅŸimi sonrasÄ± resize olayÄ± tetiklendiÄŸinden tarayÄ±cÄ± geniÅŸliÄŸinden 200px bir kÃ¼Ã§Ã¼ltme saÄŸladÄ±ÄŸÄ±nÄ±zda 200 defa resize olayÄ±nÄ±n tetiklenmesini saÄŸlÄ±yorsunuz. Peki resize olayÄ±nÄ± nasÄ±l kullanÄ±yorduk hemen ona gÃ¶z atalÄ±m.
 
 function resizeKontrolu() {
   // EÄŸer window geniÅŸliÄŸi 768px Ã¼stÃ¼ ise kurala uyguduÄŸunu varsayÄ±yoruz.
   if (window.innerWidth > 768) {
     // Kurala uyduktan sonra yapacaÄŸÄ±mÄ±z iÅŸlemler
     console.log('Kural saÄŸlandÄ±!')
   }
 }
  
 // window nesnesi yani pencerede yaÅŸanacak boyut deÄŸiÅŸikliklerinin diinlenmesini saÄŸlÄ±yoruz
 window.addEventListener('resize', resizeKontrolu);

 /*
 Bu fazladan tetiklenme sorunu matchMedia ile kullandÄ±ÄŸÄ±mÄ±zda bir sorun teÅŸkil etmiyor mu? HayÄ±r sorun teÅŸkil etmiyor Ã§Ã¼nkÃ¼ belirttiÄŸimiz fonksiyonun sadece kurala uyduÄŸunda 1 defa Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlÄ±yor. Tekrar Ã§alÄ±ÅŸmasÄ± ancak kural dÄ±ÅŸÄ±na Ã§Ä±kÄ±p sonrasÄ±nda kurala uymasÄ± iÃ§in gerekli Ã§Ã¶zÃ¼nÃ¼rlÃ¼k deÄŸiÅŸimini yaptÄ±ÄŸÄ±nÄ±zda mÃ¼mkÃ¼n oluyor. resize olayÄ± ve matchMedia konusunu gif olarak altta canlÄ± canlÄ± sonucunu gÃ¶rebilirsiniz. Her iki Ã¶rnekte de console Ã§Ä±ktÄ±sÄ±na dikkat edin lÃ¼tfen.
 */


 /*
 Her iki demo sonucunda da gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere matchMedia Ã¶rneÄŸinde belirlediÄŸimiz fonksiyonun 1 defa Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ama resize olayÄ±nda 112px bÃ¼yÃ¼tme ve kÃ¼Ã§Ã¼ltme iÅŸlemlerimiz sonucu ilgili fonksiyonun Ã§alÄ±ÅŸmasÄ± saÄŸlandÄ± aslÄ±nda 112 deÄŸil belki 300-400 defa Ã§alÄ±ÅŸtÄ± fakat if kontrolÃ¼ ile 768px ve Ã¼stÃ¼nde ilgili kodlarÄ±mÄ±z Ã§alÄ±ÅŸsÄ±n dediÄŸimiz iÃ§in ben 112 sayÄ±sÄ±nÄ± dikkate alÄ±yorum ama bir if kontrolÃ¼mÃ¼z olmasaydÄ± ve her resize deÄŸiÅŸiminde ilgili kodlarÄ±mÄ±z Ã§alÄ±ÅŸsaydÄ± 300-400 defa Ã§alÄ±ÅŸacaktÄ±. Bu durum da ciddi performans sorunlarÄ±na yol aÃ§acaktÄ±r. Resize kullanmadan Ã¶nce bir daha dÃ¼ÅŸÃ¼nÃ¼n
 
 */
    </script>
    
</body>
</html>